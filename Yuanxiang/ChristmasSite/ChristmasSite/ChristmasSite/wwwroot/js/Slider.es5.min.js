"use strict";function initCompare(){$("#compareDiv .container #compareTop3").length>0?$("#compareDiv .container #compareTop3").css("display","block"):$("#compareDiv").css("display","none");$("#compareDiv").css("height","auto");loadCompareFromCookie()}function proccessBestPPCDiv(n){n<768?$(".bestPPCDiv a").each(function(){$(this).attr("url",$(this).attr("href")).attr("clickme",$(this).attr("onclick")).removeAttr("href").removeAttr("onclick")}):$(".bestPPCDiv a").each(function(){$(this).attr("href",$(this).attr("url")).attr("onclick",$(this).attr("clickme")).removeAttr("url").removeAttr("clickme")})}function ResizeFilter(n){if(n<768){var t=0;$("#newfilter .glyphicon-minus").each(function(){var n=$(this);n.parent().next().find("input[type=checkbox]:checked").length==0&&n.parent().next().find(".selected").length==0&&t!=0&&$(this).click();t++})}}function loadCompareFromCookie(){var u=getCookie("compareInfos"),i=0,r,t,n;if(u!="")for(r=u.split("|"),i=r.length,t=0;t<i;t++)n=r[t].split(",",3),$("#imagesList").append('<div id="compareImage_'+n[0]+'" onclick="removeCompareList('+n[0]+')"><span class="glyphicon glyphicon-remove"><\/span><img src="'+n[1]+'" title="'+n[2]+'" width="27px" height="27px"/><\/div>'),$("#cb_"+n[0]).prop("checked",!0),$("#item_"+n[0]).addClass("compareSelected");i>0?($("#compareDiv, #compareDiv #compareSelected").css("display","block"),$("#compareDiv2 #compareTop3").css("display","none")):($("#compareDiv, #compareDiv #compareSelected").css("display","none"),$("#compareDiv2 #compareTop3").css("display","block"))}function addCompareToCookie(n){var t=getCookie("compareInfos");t!=""?t+="|"+n:t=n;setCookie("compareInfos",t,null)}function removeCompareFromCookie(n){var u=getCookie("compareInfos"),t,r,i,f;if(u!=""){for(t="",r=u.split("|"),i=0;i<r.length;i++)f=r[i].split(",",3),n+""!=f[0]&&(t+=r[i]+"|");t.length>1&&(t=t.substr(0,t.length-1));setCookie("compareInfos",t,null)}}function addCL(n){var e=$("#cb_"+n).prop("checked"),t=0,u=getCookie("compareInfos"),f,i,r;u!=""&&(f=u.split("|",3),t=f.length);e?(t<3?($("#item_"+n).addClass("compareSelected"),i=$("#item_"+n+" img").prop("src"),r=$("#item_"+n+" img").prop("alt"),$("#imagesList").append('<div id="compareImage_'+n+'" onclick="removeCompareList('+n+')"><span class="glyphicon glyphicon-remove"><\/span><img src="'+i+'" title="'+r+'" width="27px" height="27px"/><\/div>'),addCompareToCookie(n+","+i+","+r)):($("#cb_"+n).prop("checked",!1),alert(compareListAlertMsg)),t==0&&($("#compareDiv, #compareDiv #compareSelected").css("display","block"),$("#compareDiv2").css("display","none"),$("#compareDiv2 #compareTop3").css("display","none"))):($("#item_"+n).removeClass("compareSelected"),$("#compareImage_"+n).remove(),removeCompareFromCookie(n),t==1&&($("#compareDiv, #compareDiv #compareSelected").css("display","none"),$("#compareDiv2").css("display","block"),$("#compareDiv2 #compareTop3").css("display","block")));$("#item_"+n).blur()}function removeCompareList(n){var t,i,r;$("#cb_"+n).prop("checked",!1);$("#item_"+n).removeClass("compareSelected");$("#compareImage_"+n).remove();removeCompareFromCookie(n);t=0;i=getCookie("compareInfos");i!=""&&(r=i.split("|",3),t=r.length);t==0&&($("#compareDiv, #compareDiv #compareSelected").css("display","none"),$("#compareDiv2").css("display","block"),$("#compareDiv2 #compareTop3").css("display","block"))}function compareProducts(){var f=0,r=getCookie("compareInfos"),n,t,i,u;for(r!=""&&(t=r.split("|",3),f=t.length),n="",t=r.split("|",3),i=0;i<t.length;i++)u=t[i].split(",",3),n+=u[0]+",";n=n.substr(0,n.length-1);location.href="/Compare.aspx?t=js&pids="+n}function setCookie(n,t,i){var r=new Date;r.setDate(r.getDate()+i);document.cookie=n+"="+escape(t)+(i==null?"":";expires="+r.toGMTString())}function getCookie(n){return document.cookie.length>0&&(c_start=document.cookie.indexOf(n+"="),c_start!=-1)?(c_start=c_start+n.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function clickAttrGroup(n){var t=$("#group_"+n).css("display");t=="block"?($("#group_"+n).css("display","inline-block"),$("#group_"+n+" .groupValue").css("display","none"),$("#group_"+n+" .groupName > .glyphicon").addClass("glyphicon-triangle-bottom"),$("#group_"+n+" .groupName > .glyphicon").removeClass("glyphicon-triangle-right")):($("#group_"+n).css("display","block"),$("#group_"+n+" .groupValue").css("display","block"),$("#group_"+n+" .groupName > .glyphicon").removeClass("glyphicon-triangle-bottom"),$("#group_"+n+" .groupName > .glyphicon").addClass("glyphicon-triangle-right"))}function initFilter(){var n="hidded",t=200,i;$("#newfilter .nbTitle").click(function(){var i=$(this),r;i.find(".glyphicon-remove-circle").css("display")!="block"&&(r=i.next(),r.hasClass(n)?(r.removeClass(n).show(t),i.find(".collapseSpan").removeClass("glyphicon-plus").addClass("glyphicon-minus")):(r.addClass(n).hide(t),i.find(".collapseSpan").removeClass("glyphicon-minus").addClass("glyphicon-plus")))});$("#newfilter .groupTitle .collapseSpan:not(.checkSpan)").click(function(){var i=$(this).parent(),r=i.next();r.hasClass(n)?(r.removeClass(n).show(t),i.find(".collapseSpan:not(.checkSpan)").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up")):(r.addClass(n).hide(t),i.find(".collapseSpan:not(.checkSpan)").removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"))});$("#newfilter .groupTitle .collapseSpan:not(.checkSpan)").each(function(){$(this).parent().next().find("input[type=checkbox]:checked").length==0?$(this).click():($(this).parent().find("> input[type=checkbox]").prop("checked",!0),$(this).parent().find("> input[type=checkbox]").next().addClass("checked"))});$("#newfilter input[type=checkbox]").change(function(){var n=$(this).parent(),i=$(this).next(),t=n.parent().prev();$(this).prop("checked")?(i.addClass("checked"),n.hasClass("groupTitle")?(n.next().find("input[type=checkbox]").prop("checked",!0),n.next().find("input[type=checkbox]").next().addClass("checked")):t.hasClass("groupTitle")&&(t.find("> input[type=checkbox]").prop("checked",!0),t.find("> input[type=checkbox]").next().addClass("checked"))):(i.removeClass("checked"),n.hasClass("groupTitle")?(n.next().find("input[type=checkbox]").prop("checked",!1),n.next().find("input[type=checkbox]").next().removeClass("checked")):t.hasClass("groupTitle")&&n.parent().find("input[type=checkbox]:checked").length==0&&(t.find("> input[type=checkbox]").prop("checked",!1),t.find("> input[type=checkbox]").next().removeClass("checked")));loadFilterProducts()});$("#newfilter .moreButton").click(function(){var r=$(this).prev(),i=$(this).find(".more");r.hasClass(n)?(r.removeClass(n).show(t),i.html(i.attr("data-less"))):(r.addClass(n).hide(t),i.html(i.attr("data-more")))});$("#newfilter .moreButton").each(function(){$(this).prev().find("input[type=checkbox]:checked").length==0&&$(this).click()});$("#sortBySelect").change(function(){loadFilterProducts()});$("#newfilter .glyphicon-minus").each(function(){var n=$(this);n.attr("data-collapse")=="1"&&n.parent().next().find("input[type=checkbox]:checked").length==0&&n.parent().next().find(".selected").length==0&&$(this).click()});i=$("#fCount").html();i=="0"||i==""?($("#sortByDiv").removeClass("hasFilter"),$("#fCountATag").hide(100)):($("#fCountATag").show(100),$("#sortByDiv").hasClass("hasFilter")||$("#sortByDiv").addClass("hasFilter"))}function showallfilters(){$("#filters").removeClass("hideAllFilters");$("#filters").addClass("showAllFilters");$("#filters #showmore-filters").css("display","none");$("#filters #hide-filters").css("display","block")}function hideallfilters(){$("#filters").removeClass("showAllFilters");$("#filters").addClass("hideAllFilters");$("#filters #showmore-filters").css("display","block");$("#filters #hide-filters").css("display","none")}function initFilters(){$("#filters #showmore-filters").css("display","");$("#filters #hide-filters").css("display","");$("#filters").removeClass("showAllFilters");$("#filters").removeClass("hideAllFilters")}function loadFilterProducts(){var n={},t="",i="",r="",u="",f="",e;$("#newfilter input[type=checkbox]:checked").each(function(){var e=$(this),n=e.attr("name"),u=e.val();n=="Attribute"?t+=u+"-":n=="AttributeRange"?t+=u+"r-":n=="Manufacturer"?i+=u+"-":n=="Retailer"?r+=u+"-":n=="On sale"&&(f=u)});t!=""&&(n.avs=t);i!=""&&(n.m=i);r!=""&&(n.pcsid=r);f!=""&&(n.os=f);$("#newfilter input[type=hidden].ppr, #newfilter input[type=checkbox].ppr:checked").each(function(){var i=$(this),r=i.attr("name"),t=i.val();t!=" "&&t!=""&&(r.indexOf("avsr_")>-1?u+=t+",":n[r]=t)});u!=""&&(n.avsr=u);e=$("#newfilter #searchWithIn").val();e!=""&&(n.swi=e);n.isAjax="true";$.ajax({url:"/CatalogAjax.aspx",beforsend:run_waitMe("roundBounce"),data:n,dataType:"html",method:"post",success:function(n){var t=$(n),i,f,r,u;$("#loadDiv").waitMe("hide");$("#pcDiv").html(t.find("#pcDiv").html());$("#viewByDiv").html(t.find("#viewByDiv").html());$("#pagerDiv").html(t.find("#pagerDiv").html());$("#sortByDiv").html(t.find("#sortByDiv").html());$("#fCountATag").attr("href",t.find("#fCountATag").attr("href"));$("#filterCategoriesDiv").html(t.find("#filterCategoriesDiv").html());i="hidded";$("#filterCategoriesDiv .moreButton").click(function(){var t=$(this).prev(),n=$(this).find(".more");t.hasClass(i)?(t.removeClass(i).show(),n.html(n.attr("data-less"))):(t.addClass(i).hide(),n.html(n.attr("data-more")))});$("#filterCategoriesDiv .moreButton").each(function(){$(this).prev().find("input[type=checkbox]:checked").length==0&&$(this).click()});$("#fCount").html(t.find("#f_Count").val());lazyload({defObj:"#loadDiv"});f=t.find("#c_url").val();history.pushState(null,null,f);r=t.find("#c_pCount").val();$("#productCountInfo label").html(r);r=="0"?$("#catalogBar").hide(100):$("#catalogBar").show(100);u=$("#fCount").html();u=="0"||u==""?($("#sortByDiv").removeClass("hasFilter"),$("#fCountATag").hide(100)):($("#fCountATag").show(100),$("#sortByDiv").hasClass("hasFilter")||$("#sortByDiv").addClass("hasFilter"));refreshProductCount(t,r)}})}function changeSortby(n){$("#newfilter input[name=sb].ppr").val(n);loadFilterProducts()}function refreshProductCount(n,t){$(".ajRefreshText").each(function(){if(t=="0")$(this).html("(0)");else{var r=$(this).attr("id"),i=n.find("#"+r);i.length>0&&$(this).html(i.html())}});$(".ajRefreshLI").each(function(){var r,i,u;t=="0"?$(this).animate({height:0},1e3):(r=$(this).attr("id"),i=n.find("#"+r),i.length>0&&(u=i.css("height"),$(this).animate({height:u},1e3)))})}function run_waitMe(n){$("#pcDiv").waitMe({effect:n,text:"",bg:"rgba(52,152,219,0.7)",color:"#000"})}function createHeightBar(n,t){var r=$("#"+n).parent(),u,f,i;if(r.append("<ul id='heightBar_"+n+"' class='heightBar ajRefreshUL'><\/ul>"),u=r.find(".heightBar"),t!=null||t.length>1)for(f=99/t.length,i=0;i<t.length;i++)u.append("<li id='"+n+"_"+i+"' class='ajRefreshLI' style='height:"+t[i]+"px;width:"+f+"%'><\/li>")}function createFilterSlider(n,t,i,r,u,f,e,o,s){s==1?$(n).ionRangeSlider({type:i,min:r,max:u,step:1,from:f,to:e,prefix:o,onFinish:function(n){var i=$(t),r=n.from+"-"+n.to;t=="#pr"&&($("#minPrice").val(n.from),$("#maxPrice").val(n.to));n.from==n.min&&n.to==n.max?(i.val(" "),$("#wizardSlider_-100").css("display","none")):(i.val(r),$("#wizardSlider_-100").css("display","inline-block"));loadFilterProducts()},prettify:function(n){return formatPrice(n)}}):$(n).ionRangeSlider({type:i,min:r,max:u,step:1,from:f,to:e,prefix:o,onFinish:function(n){var i=$(t),r=n.from+"-"+n.to;n.from==n.min&&n.to==n.max?i.val(" "):i.val(r);loadFilterProducts()},prettify:function(n){return toIntValue(n)}});return $(n).data("ionRangeSlider")}function createFilterAttributeSlider(n,t,i,r,u,f,e,o,s,h){$(t).ionRangeSlider({type:r,min:u,max:f,step:h,grid:!0,from:e,to:o,prefix:s,onFinish:function(t){var r=$(i),u=n+"_"+t.from+"-"+t.to;t.from==t.min&&t.to==t.max?(r.val(" "),$("#wizardSlider_"+n).css("display","none")):(r.val(u),$("#wizardSlider_"+n).css("display","inline-block"));loadFilterProducts()},prettify:function(n){return toIntValue(n)}});return $(t).data("ionRangeSlider")}function SetCatalogBuyingWizardClickEvent(){$("#BuyingWizardUL > li").on("click",function(){if(!$(this).hasClass("active")){var n=$(this).attr("data-tab");$("#BuyingWizardUL > li").removeClass("active");$(this).addClass("active");n=="Filter"?$("#newfilter").removeClass("buyingWizardFilters"):$("#newfilter").addClass("buyingWizardFilters")}})}function ClearAttr(n){var t,i;n==-100?($("#minPrice").val($("#minPrice").attr("min")),$("#maxPrice").val($("#maxPrice").attr("max")),priceChanged()):(t=SliderDatastore[n],t!=null&&(t.update({from:t.result.min,to:t.result.max}),i=$("#avsr_"+n),i.val(" "),loadFilterProducts()));$("#wizardSlider_"+n).css("display","none")}function showFullText(n){$("#bwq_"+n+" .ellipsis-ghost").css("display","none");$("#bwq_"+n+" .ellipsis-container").css("display","block");$("#bwq_"+n+".ellipsis").css("max-height","inherit")}var MoreFilter={};(function(n){var t,i,r,u,f;n.init=function(n,e,o,s){t="#"+n;i="#"+e;u=o;f=s;r=$(t).height();this.hidden(t,i,u,f,r)};n.show=function(n,t,i,r,u){$(n).animate({height:u},300,function(){$(n).css("height","100%");$(n).css("overflow","visible")});$(t).attr("href",'javascript:MoreFilter.hidden("'+n+'","'+t+'","'+i+'","'+r+'",'+u+")");$(t).html('<span class="glyphicon glyphicon-minus-sign"><\/span> '+r);$("#MoreFilterDiv").addClass("catalogmoreatt")};n.hidden=function(n,t,i,r,u){$(n).animate({height:0},300,function(){$(n).css("overflow","hidden")});$(t).attr("href",'javascript:MoreFilter.show("'+n+'","'+t+'","'+i+'","'+r+'",'+u+")");$(t).html('<span class="glyphicon glyphicon-plus-sign"><\/span> '+i);$("#MoreFilterDiv").removeClass("catalogmoreatt")}})(MoreFilter);$(window).resize(function(){var n=$(window).width();proccessBestPPCDiv(n);ResizeFilter(n);n>=768&&initFilters()});$(document).ready(function(){var n=$(window).width();$(".product-grid-item").each(function(){$(this).bind("click",function(){n<751&&$(this).attr("href")&&(window.location=$(this).attr("href"))})});proccessBestPPCDiv(n);$('[data-toggle="tooltip"]').tooltip();$(function(){$("input:radio, input:checkbox").click(function(){this.blur()})});setTimeout(initCompare,310);n>=768&&initFilters()});$(window).scroll(function(){if($("#catalogBar").length>0){var n=$(document).scrollTop(),t=$("#catalogBar").offset().top+1;n>t?($("#compareDiv").addClass("fixedDiv"),$("#compareDiv .compareContainer").addClass("container"),$("#catalogBar").css("z-index",1)):($("#compareDiv").removeClass("fixedDiv"),$("#compareDiv .compareContainer").removeClass("container"),$("#catalogBar").css("z-index",10))}});
/*! jQuery UI - v1.11.2 - 2014-12-10
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, slider.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){function r(t,i){var r,f,e,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,f=r.name,t.href&&f&&"map"===r.nodeName.toLowerCase()?(e=n("img[usemap='#"+f+"']")[0],!!e&&u(e)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&u(t)}function u(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return"hidden"===n.css(this,"visibility")}).length}var f,i,t;n.ui=n.ui||{};n.extend(n.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({scrollParent:function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)},uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return r(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var i=n.attr(t,"tabindex"),u=isNaN(i);return(u||i>=0)&&r(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.fn.extend({focus:function(t){return function(i,r){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var r,u,i=n(this[0]);i.length&&i[0]!==document;){if(r=i.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(u=parseInt(i.css("zIndex"),10),!isNaN(u)&&0!==u))return u;i=i.parent()}return 0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};f=0;i=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?(h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}(),void 0):(h[t]=r,void 0)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var r,u,e=i.call(arguments,1),f=0,o=e.length;o>f;f++)for(r in e[f])u=e[f][r],e[f].hasOwnProperty(r)&&void 0!==u&&(t[r]=n.isPlainObject(u)?n.isPlainObject(t[r])?n.widget.extend({},t[r],u):n.widget.extend({},u):u);return t};n.widget.bridge=function(t,r){var u=r.prototype.widgetFullName||t;n.fn[t]=function(f){var s="string"==typeof f,o=i.call(arguments,1),e=this;return f=!s&&o.length?n.widget.extend.apply(null,[f].concat(o)):f,s?this.each(function(){var i,r=n.data(this,u);return"instance"===f?(e=r,!1):r?n.isFunction(r[f])&&"_"!==f.charAt(0)?(i=r[f].apply(r,o),i!==r&&void 0!==i?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+f+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+f+"'")}):this.each(function(){var t=n.data(this,u);t?(t.option(f||{}),t._init&&t._init()):n.data(this,u,new r(f,this))}),e}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=f++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;r.length-1>f;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,"disabled"===n&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget;t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=1===i.which,f="string"==typeof this.options.cancel&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return this._mouseMoved&&(n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button||!t.which)?this._mouseUp(t):((t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted))},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&n.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});n.widget("ui.slider",n.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>r||1===t&&r>i)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;u>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var n=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-n},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),e=this._start(t,f),e===!1))return}switch(u=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})});
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(n){function t(n,t){if(!(n.originalEvent.touches.length>1)){n.preventDefault();var i=n.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(r)}}if(n.support.touch="ontouchend"in document,n.support.touch){var r,i=n.ui.mouse.prototype,u=i._mouseInit,f=i._mouseDestroy;i._touchStart=function(n){var i=this;!r&&i._mouseCapture(n.originalEvent.changedTouches[0])&&(r=!0,i._touchMoved=!1,t(n,"mouseover"),t(n,"mousemove"),t(n,"mousedown"))};i._touchMove=function(n){r&&(this._touchMoved=!0,t(n,"mousemove"))};i._touchEnd=function(n){r&&(t(n,"mouseup"),t(n,"mouseout"),this._touchMoved||t(n,"click"),r=!1)};i._mouseInit=function(){var t=this;t.element.bind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});u.call(t)};i._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:n.proxy(t,"_touchStart"),touchmove:n.proxy(t,"_touchMove"),touchend:n.proxy(t,"_touchEnd")});f.call(t)}}}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){n(t,document,window,navigator)}):n(jQuery,document,window,navigator)}(function(n,t,i,r){var e=0,u=function(){var t=r.userAgent,i=/msie\s\d+/i;return 0<t.search(i)&&(t=i.exec(t).toString(),t=t.split(" ")[1],9>t)?(n("html").addClass("lt-ie9"),!0):!1}(),f;Function.prototype.bind||(Function.prototype.bind=function(n){var t=this,i=[].slice,r,u;if("function"!=typeof t)throw new TypeError;return r=i.call(arguments,1),u=function u(){var f,e;return this instanceof u?(f=function(){},f.prototype=t.prototype,f=new f,e=t.apply(f,r.concat(i.call(arguments))),Object(e)===e?e:f):t.apply(n,r.concat(i.call(arguments)))},u});Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){var i,u,r;if(null==this)throw new TypeError('"this" is null or not defined');if((u=Object(this),r=u.length>>>0,0===r)||(i=+t||0,Infinity===Math.abs(i)&&(i=0),i>=r))return-1;for(i=Math.max(0<=i?i:r-Math.abs(i),0);i<r;){if(i in u&&u[i]===n)return i;i++}return-1});f=function(r,u,f){var e,o;this.VERSION="2.1.4";this.input=r;this.plugin_count=f;this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0;this.raf_id=this.old_min_interval=null;this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1;this.is_start=!0;this.is_click=this.is_resize=this.is_active=this.is_finish=!1;this.$cache={win:n(i),body:n(t.body),input:n(r),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};e=this.$cache.input;r=e.prop("value");f={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null};e={type:e.data("type"),min:e.data("min"),max:e.data("max"),from:e.data("from"),to:e.data("to"),step:e.data("step"),min_interval:e.data("minInterval"),max_interval:e.data("maxInterval"),drag_interval:e.data("dragInterval"),values:e.data("values"),from_fixed:e.data("fromFixed"),from_min:e.data("fromMin"),from_max:e.data("fromMax"),from_shadow:e.data("fromShadow"),to_fixed:e.data("toFixed"),to_min:e.data("toMin"),to_max:e.data("toMax"),to_shadow:e.data("toShadow"),prettify_enabled:e.data("prettifyEnabled"),prettify_separator:e.data("prettifySeparator"),force_edges:e.data("forceEdges"),keyboard:e.data("keyboard"),keyboard_step:e.data("keyboardStep"),grid:e.data("grid"),grid_margin:e.data("gridMargin"),grid_num:e.data("gridNum"),grid_snap:e.data("gridSnap"),hide_min_max:e.data("hideMinMax"),hide_from_to:e.data("hideFromTo"),prefix:e.data("prefix"),postfix:e.data("postfix"),max_postfix:e.data("maxPostfix"),decorate_both:e.data("decorateBoth"),values_separator:e.data("valuesSeparator"),input_values_separator:e.data("inputValuesSeparator"),disable:e.data("disable")};e.values=e.values&&e.values.split(",");for(o in e)e.hasOwnProperty(o)&&(e[o]||0===e[o]||delete e[o]);r&&(r=r.split(e.input_values_separator||u.input_values_separator||";"),r[0]&&r[0]==+r[0]&&(r[0]=+r[0]),r[1]&&r[1]==+r[1]&&(r[1]=+r[1]),u&&u.values&&u.values.length?(f.from=r[0]&&u.values.indexOf(r[0]),f.to=r[1]&&u.values.indexOf(r[1])):(f.from=r[0]&&+r[0],f.to=r[1]&&+r[1]));n.extend(f,u);n.extend(f,e);this.options=f;this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};f.prototype={init:function(n){this.no_diapason=!1;this.coords.p_step=this.convertToPercent(this.options.step,!0);this.target="base";this.toggleInput();this.append();this.setMinMax();n?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart());this.updateScene()},append:function(){this.$cache.input.before('<span class="irs js-irs-'+this.plugin_count+'"><\/span>');this.$cache.input.prop("readonly",!0);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="-1"><span class="irs-line-left"><\/span><span class="irs-line-mid"><\/span><span class="irs-line-right"><\/span><\/span><span class="irs-min">0<\/span><span class="irs-max">1<\/span><span class="irs-from">0<\/span><span class="irs-to">0<\/span><span class="irs-single">0<\/span><\/span><span class="irs-grid"><\/span><span class="irs-bar"><\/span>');this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"><\/span><span class="irs-shadow shadow-single"><\/span><span class="irs-slider single"><\/span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"><\/span><span class="irs-shadow shadow-to"><\/span><span class="irs-slider from"><\/span><span class="irs-slider to"><\/span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler());this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none");this.appendGrid();this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass("irs-disabled"),this.$cache.input[0].disabled=!1,this.bindEvents());this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var n=this.options.max,t=this.options.to;this.options.from>this.options.min&&t===n?this.$cache.s_from.addClass("type_last"):t<n&&this.$cache.s_to.addClass("type_last")},changeLevel:function(n){switch(n){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"><\/span>');this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);u&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count));this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(!this.no_diapason){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard)this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"));u&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this)))}},pointerMove:function(n){this.dragging&&(this.coords.x_pointer=(n.pageX||n.originalEvent.touches&&n.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,u&&n("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(n.contains(this.$cache.cont[0],t.target)||this.dragging)&&(this.is_finish=!0,this.callOnFinish()),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var r=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target),this.current_plugin=this.plugin_count,this.target=t,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=r-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),u&&n("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(n,t){t.preventDefault();var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;2!==t.button&&(this.current_plugin=this.plugin_count,this.target=n,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(n,t){if(!(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)){switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault();this.moveByKey(!1);break;case 87:case 68:case 38:case 39:t.preventDefault();this.moveByKey(!0)}return!0}},moveByKey:function(n){var t=this.coords.p_pointer,t=n?t+this.options.keyboard_step:t-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t);this.is_key=!0;this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display="none",this.$cache.max[0].style.display="none"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var n=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval);this.options.min_interval=n},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(n){var t,i;if(this.options&&(this.calc_count++,(10===this.calc_count||n)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();n=this.getHandleX();"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,n=this.getHandleX(),this.target=this.options.drag_interval?"both_one":this.chooseHandle(n));switch(this.target){case"base":t=(this.options.max-this.options.min)/100;n=(this.result.from-this.options.min)/t;t=(this.result.to-this.options.min)/t;this.coords.p_single_real=this.toFixed(n);this.coords.p_from_real=this.toFixed(n);this.coords.p_to_real=this.toFixed(t);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(n);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(n);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(n);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;n=this.toFixed(n+.1*this.coords.p_handle);this.coords.p_from_real=this.convertToRealPercent(n)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(n)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(!this.options.from_fixed&&!this.options.to_fixed){i=this.convertToRealPercent(n);n=this.result.to_percent-this.result.from_percent;var r=n/2,t=i-r,i=i+r;0>t&&(t=0,i=t+n);100<i&&(i=100,t=i-n);this.coords.p_from_real=this.calcWithStep(t);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(i);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to]));this.calcMinMax();this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(n){return n/(100-this.coords.p_handle)*100},convertToFakePercent:function(n){return n/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,n=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return 0>n?n=0:n>t&&(n=t),n},calcHandlePercent:function(){this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1);this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(n){return"single"===this.options.type?"single":n>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null);clearTimeout(this.update_tm);this.update_tm=null;this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1);this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to)),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_click=this.is_key=!1,this.callOnFinish()),this.is_finish=this.is_resize=this.is_update=!1),this.force_redraw=this.is_click=this.is_key=this.is_start=!1))},drawLabels:function(){var n,t,i,r;this.options&&(n=this.options.values.length,t=this.options.p_values,this.options.hide_from_to||("single"===this.options.type?(n=n?this.decorate(t[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(n),this.calcLabels(),this.$cache.min[0].style.visibility=this.labels.p_single_left<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>99-this.labels.p_max?"hidden":"visible"):(n?(this.options.decorate_both?(n=this.decorate(t[this.result.from]),n+=this.options.values_separator,n+=this.decorate(t[this.result.to])):n=this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to]),i=this.decorate(t[this.result.from]),t=this.decorate(t[this.result.to])):(this.options.decorate_both?(n=this.decorate(this._prettify(this.result.from),this.result.from),n+=this.options.values_separator,n+=this.decorate(this._prettify(this.result.to),this.result.to)):n=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),i=this.decorate(this._prettify(this.result.from),this.result.from),t=this.decorate(this._prettify(this.result.to),this.result.to)),this.$cache.single.html(n),this.$cache.from.html(i),this.$cache.to.html(t),this.calcLabels(),t=Math.min(this.labels.p_single_left,this.labels.p_from_left),n=this.labels.p_single_left+this.labels.p_single_fake,i=this.labels.p_to_left+this.labels.p_to_fake,r=Math.max(n,i),this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",r=i):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",r=Math.max(n,i))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),this.$cache.min[0].style.visibility=t<this.labels.p_min+1?"hidden":"visible",this.$cache.max[0].style.visibility=r>99-this.labels.p_max?"hidden":"visible")))},drawShadow:function(){var n=this.options,r=this.$cache,t="number"==typeof n.from_min&&!isNaN(n.from_min),i="number"==typeof n.from_max&&!isNaN(n.from_max),u="number"==typeof n.to_min&&!isNaN(n.to_min),f="number"==typeof n.to_max&&!isNaN(n.to_max);"single"===n.type?n.from_shadow&&(t||i)?(t=this.convertToPercent(t?n.from_min:n.min),i=this.convertToPercent(i?n.from_max:n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,r.shad_single[0].style.display="block",r.shad_single[0].style.left=t+"%",r.shad_single[0].style.width=i+"%"):r.shad_single[0].style.display="none":(n.from_shadow&&(t||i)?(t=this.convertToPercent(t?n.from_min:n.min),i=this.convertToPercent(i?n.from_max:n.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,r.shad_from[0].style.display="block",r.shad_from[0].style.left=t+"%",r.shad_from[0].style.width=i+"%"):r.shad_from[0].style.display="none",n.to_shadow&&(u||f)?(u=this.convertToPercent(u?n.to_min:n.min),n=this.convertToPercent(f?n.to_max:n.max)-u,u=this.toFixed(u-this.coords.p_handle/100*u),n=this.toFixed(n-this.coords.p_handle/100*n),u+=this.coords.p_handle/2,r.shad_to[0].style.display="block",r.shad_to[0].style.left=u+"%",r.shad_to[0].style.width=n+"%"):r.shad_to[0].style.display="none")},callOnStart:function(){if(this.options.onStart&&"function"==typeof this.options.onStart)this.options.onStart(this.result)},callOnChange:function(){if(this.options.onChange&&"function"==typeof this.options.onChange)this.options.onChange(this.result)},callOnFinish:function(){if(this.options.onFinish&&"function"==typeof this.options.onFinish)this.options.onFinish(this.result)},callOnUpdate:function(){if(this.options.onUpdate&&"function"==typeof this.options.onUpdate)this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(n,t){var i=this.options.max-this.options.min;return i?this.toFixed((t?n:n-this.options.min)/(i/100)):(this.no_diapason=!0,0)},convertToValue:function(n){var t=this.options.min,u=this.options.max,o=t.toString().split(".")[1],s=u.toString().split(".")[1],f,e,r=0,i=0;return 0===n?this.options.min:100===n?this.options.max:(o&&(r=f=o.length),s&&(r=e=s.length),f&&e&&(r=f>=e?f:e),0>t&&(i=Math.abs(t),t=+(t+i).toFixed(r),u=+(u+i).toFixed(r)),n=(u-t)/100*n+t,(t=this.options.step.toString().split(".")[1])?n=+n.toFixed(t.length):(n/=this.options.step,n*=this.options.step,n=+n.toFixed(0)),i&&(n-=i),i=t?+n.toFixed(t.length):this.toFixed(n),i<this.options.min?i=this.options.min:i>this.options.max&&(i=this.options.max),i)},calcWithStep:function(n){var t=Math.round(n/this.coords.p_step)*this.coords.p_step;return 100<t&&(t=100),100===n&&(t=100),this.toFixed(t)},checkMinInterval:function(n,t,i){var r=this.options;return r.min_interval?(n=this.convertToValue(n),t=this.convertToValue(t),"from"===i?t-n<r.min_interval&&(n=t-r.min_interval):n-t<r.min_interval&&(n=t+r.min_interval),this.convertToPercent(n)):n},checkMaxInterval:function(n,t,i){var r=this.options;return r.max_interval?(n=this.convertToValue(n),t=this.convertToValue(t),"from"===i?t-n>r.max_interval&&(n=t-r.max_interval):n-t>r.max_interval&&(n=t+r.max_interval),this.convertToPercent(n)):n},checkDiapason:function(n,t,i){n=this.convertToValue(n);var r=this.options;return"number"!=typeof t&&(t=r.min),"number"!=typeof i&&(i=r.max),n<t&&(n=t),n>i&&(n=i),this.convertToPercent(n)},toFixed:function(n){return n=n.toFixed(9),+n},_prettify:function(n){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(n):this.prettify(n):n},prettify:function(n){return n.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(n,t){return this.options.force_edges?(0>n?n=0:n>100-t&&(n=100-t),this.toFixed(n)):this.toFixed(n)},validate:function(){var n=this.options,t=this.result,u=n.values,f=u.length,i,r;if("string"==typeof n.min&&(n.min=+n.min),"string"==typeof n.max&&(n.max=+n.max),"string"==typeof n.from&&(n.from=+n.from),"string"==typeof n.to&&(n.to=+n.to),"string"==typeof n.step&&(n.step=+n.step),"string"==typeof n.from_min&&(n.from_min=+n.from_min),"string"==typeof n.from_max&&(n.from_max=+n.from_max),"string"==typeof n.to_min&&(n.to_min=+n.to_min),"string"==typeof n.to_max&&(n.to_max=+n.to_max),"string"==typeof n.keyboard_step&&(n.keyboard_step=+n.keyboard_step),"string"==typeof n.grid_num&&(n.grid_num=+n.grid_num),n.max<n.min&&(n.max=n.min),f)for(n.p_values=[],n.min=0,n.max=f-1,n.step=1,n.grid_num=n.max,n.grid_snap=!0,r=0;r<f;r++)i=+u[r],isNaN(i)?i=u[r]:(u[r]=i,i=this._prettify(i)),n.p_values.push(i);("number"!=typeof n.from||isNaN(n.from))&&(n.from=n.min);("number"!=typeof n.to||isNaN(n.from))&&(n.to=n.max);"single"===n.type?(n.from<n.min&&(n.from=n.min),n.from>n.max&&(n.from=n.max)):((n.from<n.min||n.from>n.max)&&(n.from=n.min),(n.to>n.max||n.to<n.min)&&(n.to=n.max),n.from>n.to&&(n.from=n.to));("number"!=typeof n.step||isNaN(n.step)||!n.step||0>n.step)&&(n.step=1);("number"!=typeof n.keyboard_step||isNaN(n.keyboard_step)||!n.keyboard_step||0>n.keyboard_step)&&(n.keyboard_step=5);"number"==typeof n.from_min&&n.from<n.from_min&&(n.from=n.from_min);"number"==typeof n.from_max&&n.from>n.from_max&&(n.from=n.from_max);"number"==typeof n.to_min&&n.to<n.to_min&&(n.to=n.to_min);"number"==typeof n.to_max&&n.from>n.to_max&&(n.to=n.to_max);t&&(t.min!==n.min&&(t.min=n.min),t.max!==n.max&&(t.max=n.max),(t.from<t.min||t.from>t.max)&&(t.from=n.from),(t.to<t.min||t.to>t.max)&&(t.to=n.to));("number"!=typeof n.min_interval||isNaN(n.min_interval)||!n.min_interval||0>n.min_interval)&&(n.min_interval=0);("number"!=typeof n.max_interval||isNaN(n.max_interval)||!n.max_interval||0>n.max_interval)&&(n.max_interval=0);n.min_interval&&n.min_interval>n.max-n.min&&(n.min_interval=n.max-n.min);n.max_interval&&n.max_interval>n.max-n.min&&(n.max_interval=n.max-n.min)},decorate:function(n,t){var r="",i=this.options;return i.prefix&&(r+=i.prefix),r+=n,i.max_postfix&&(i.values.length&&n===i.p_values[i.max]?(r+=i.max_postfix,i.postfix&&(r+=" ")):t===i.max&&(r+=i.max_postfix,i.postfix&&(r+=" "))),i.postfix&&(r+=i.postfix),r},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){var i,n,o;if(this.options.grid){i=this.options;n=i.max-i.min;var r=i.grid_num,s=0,t=0,e=4,f,c,u=0,h="";for(this.calcGridMargin(),i.grid_snap?(r=n/i.step,s=this.toFixed(i.step/(n/100))):s=this.toFixed(100/r),4<r&&(e=3),7<r&&(e=2),14<r&&(e=1),28<r&&(e=0),n=0;n<r+1;n++){for(f=e,t=this.toFixed(s*n),100<t&&(t=100,f-=2,0>f&&(f=0)),this.coords.big[n]=t,c=(t-s*(n-1))/(f+1),o=1;o<=f&&0!==t;o++)u=this.toFixed(t-c*o),h+='<span class="irs-grid-pol small" style="left: '+u+'%"><\/span>';h+='<span class="irs-grid-pol" style="left: '+t+'%"><\/span>';u=this.convertToValue(t);u=i.values.length?i.p_values[u]:this._prettify(u);h+='<span class="irs-grid-text js-grid-text-'+n+'" style="left: '+t+'%">'+u+"<\/span>"}this.coords.big_num=Math.ceil(r+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(h);this.cacheGridLabels()}},cacheGridLabels:function(){for(var t,i=this.coords.big_num,n=0;n<i;n++)t=this.$cache.grid.find(".js-grid-text-"+n),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var n,t,r,i;for(t=[],r=[],i=this.coords.big_num,n=0;n<i;n++)this.coords.big_w[n]=this.$cache.grid_labels[n].outerWidth(!1),this.coords.big_p[n]=this.toFixed(this.coords.big_w[n]/this.coords.w_rs*100),this.coords.big_x[n]=this.toFixed(this.coords.big_p[n]/2),t[n]=this.toFixed(this.coords.big[n]-this.coords.big_x[n]),r[n]=this.toFixed(t[n]+this.coords.big_p[n]);for(this.options.force_edges&&(t[0]<-this.coords.grid_gap&&(t[0]=-this.coords.grid_gap,r[0]=this.toFixed(t[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),r[i-1]>100+this.coords.grid_gap&&(r[i-1]=100+this.coords.grid_gap,t[i-1]=this.toFixed(r[i-1]-this.coords.big_p[i-1]),this.coords.big_x[i-1]=this.toFixed(this.coords.big_p[i-1]-this.coords.grid_gap))),this.calcGridCollision(2,t,r),this.calcGridCollision(4,t,r),n=0;n<i;n++)t=this.$cache.grid_labels[n][0],t.style.marginLeft=-this.coords.big_x[n]+"%"},calcGridCollision:function(n,t,i){for(var u,f,e=this.coords.big_num,r=0;r<e;r+=n){if(u=r+n/2,u>=e)break;f=this.$cache.grid_labels[u][0];f.style.visibility=i[r]<=t[u]?"visible":"hidden"}},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.options=n.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),n.data(this.input,"ionRangeSlider",null),this.remove(),this.options=this.input=null)}};n.fn.ionRangeSlider=function(t){return this.each(function(){n.data(this,"ionRangeSlider")||n.data(this,"ionRangeSlider",new f(this,t,e++))})},function(){for(var r=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[t[n]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[t[n]+"CancelAnimationFrame"]||i[t[n]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(n){var t=(new Date).getTime(),u=Math.max(0,16-(t-r)),f=i.setTimeout(function(){n(t+u)},u);return r=t+u,f});i.cancelAnimationFrame||(i.cancelAnimationFrame=function(n){clearTimeout(n)})}()}),function(n){n.fn.waitMe=function(t){return this.each(function(){function p(){var n=u.attr("data-waitme_id");u.removeClass(f+"_container").removeAttr("data-waitme_id");u.find("."+f+'[data-waitme_id="'+n+'"]').remove()}var u=n(this),f="waitMe",y,e,r,c=!1,o="background-color",s="",h="",l,i,a,v={init:function(){function it(n){k.css({top:"auto",transform:"translateY("+n+"px) translateZ(0)"})}var ft={effect:"bounce",text:"",bg:"rgba(255,255,255,0.7)",color:"#000",maxSize:"",textPos:"vertical",source:"",onClose:function(){}},d,v,w,tt,k;i=n.extend(ft,t);a=(new Date).getMilliseconds();l=n('<div class="'+f+'" data-waitme_id="'+a+'"><\/div>');switch(i.effect){case"none":r=0;break;case"bounce":r=3;break;case"rotateplane":r=1;break;case"stretch":r=5;break;case"orbit":r=2;break;case"roundBounce":r=12;break;case"win8":r=5;c=!0;break;case"win8_linear":r=5;c=!0;break;case"ios":r=12;break;case"facebook":r=3;break;case"rotation":r=1;o="border-color";break;case"timer":r=2;v=n.isArray(i.color)?i.color[0]:i.color;s="border-color:"+v;break;case"pulse":r=1;o="border-color";break;case"progressBar":r=1;break;case"bouncePulse":r=3;break;case"img":r=1}if(s!==""&&(s+=";"),r>0){if(i.effect==="img")h='<img src="'+i.source+'">';else for(d=1;d<=r;++d)n.isArray(i.color)?(v=i.color[d],v==undefined&&(v="#000")):v=i.color,h+=c?'<div class="'+f+"_progress_elem"+d+'"><div style="'+o+":"+v+'"><\/div><\/div>':'<div class="'+f+"_progress_elem"+d+'" style="'+o+":"+v+'"><\/div>';e=n('<div class="'+f+"_progress "+i.effect+'" style="'+s+'">'+h+"<\/div>")}if((i.text&&i.maxSize===""||i.textPos=="horizontal")&&(v=n.isArray(i.color)?i.color[0]:i.color,y=n('<div class="'+f+'_text" style="color:'+v+'">'+i.text+"<\/div>")),w=u.find("> ."+f),w&&w.remove(),tt=n('<div class="'+f+"_content "+i.textPos+'"><\/div>'),tt.append(e,y),l.append(tt),u[0].tagName=="HTML"&&(u=n("body")),u.addClass(f+"_container").attr("data-waitme_id",a).append(l),w=u.find("> ."+f),k=u.find("."+f+"_content"),w.css({background:i.bg}),i.maxSize!==""){var et=e.outerHeight(),st=e.outerWidth(),ut=et;i.effect==="img"?(e.css({height:i.maxSize+"px"}),e.find(">img").css({maxHeight:"100%"}),k.css({marginTop:-k.outerHeight()/2+"px"})):i.maxSize<ut&&(i.effect=="stretch"?(e.css({height:i.maxSize+"px",width:i.maxSize+"px"}),e.find("> div").css({margin:"0 5%"})):e.css({zoom:i.maxSize/ut-.2}))}if(k.css({marginTop:-k.outerHeight()/2+"px"}),u.outerHeight()>n(window).height()){var nt=n(window).scrollTop(),b=k.outerHeight(),g=u.offset().top,rt=u.outerHeight(),p=nt-g+n(window).height()/2;p<0&&(p=Math.abs(p));p-b>=0&&p+b<=rt?(g-nt>n(window).height()/2&&(p=b),it(p)):(p=nt>g+rt-b?nt-g-b:nt-g+b,it(p));n(document).scroll(function(){var i=n(window).scrollTop(),t=i-g+n(window).height()/2;t-b>=0&&t+b<=rt&&it(t)})}w.on("destroyed",function(){i.onClose&&n.isFunction(i.onClose)&&i.onClose();w.trigger("close")});return n.event.special.destroyed={remove:function(n){n.handler&&n.handler()}},w},hide:function(){p()}};return v[t]?v[t].apply(this,Array.prototype.slice.call(arguments,1)):typeof t=="object"||!t?v.init.apply(this,arguments):void 0})};n(window).on("load",function(){n("body.waitMe_body").addClass("hideMe");setTimeout(function(){n("body.waitMe_body").find(".waitMe_container:not([data-waitme_id])").remove();n("body.waitMe_body").removeClass("waitMe_body hideMe")},200)})}(jQuery);